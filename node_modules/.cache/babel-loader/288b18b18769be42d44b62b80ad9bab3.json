{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shulk\\\\Desktop\\\\Big_Projects\\\\booksProject\\\\nd0191-c1-myreads\\\\starter\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport Shelf from \"./Shelf\";\nimport SearchBar from \"./SearchBar\";\nimport SearchResults from \"./SearchResults\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [showSearchPage, setShowSearchPage] = useState(false);\n  useEffect(() => {\n    BooksAPI.getAll().then(books => {\n      setBooks(books);\n    });\n  }, []);\n  const handleMoveBook = (book, newShelf) => {\n    BooksAPI.update(book, newShelf);\n    setBooks(prevBooks => {\n      const exists = prevBooks.find(b => b.id === book.id);\n      if (exists) {\n        return prevBooks.map(b => b.id === book.id ? {\n          ...b,\n          shelf: newShelf\n        } : b);\n      } else {\n        return [...prevBooks, {\n          ...book,\n          shelf: newShelf\n        }];\n      }\n    });\n  };\n  const currentlyReading = books.filter(book => book.shelf === \"currentlyReading\");\n  const wantToRead = books.filter(book => book.shelf === \"wantToRead\");\n  const read = books.filter(book => book.shelf === \"read\");\n  const handleQueryChange = q => {\n    setQuery(q);\n    if (q.trim() === \"\") {\n      setSearchResults([]);\n      return;\n    }\n    BooksAPI.search(q, 20).then(results => {\n      if (!Array.isArray(results)) {\n        setSearchResults([]);\n        return;\n      }\n      const updatedResults = results.map(result => {\n        const existing = books.find(b => b.id === result.id);\n        return existing ? {\n          ...result,\n          shelf: existing.shelf\n        } : {\n          ...result,\n          shelf: \"none\"\n        };\n      });\n      setSearchResults(updatedResults);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: showSearchPage ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"close-search\",\n          onClick: () => setShowSearchPage(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n          query: query,\n          onQueryChange: handleQueryChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n        books: searchResults,\n        onMove: handleMoveBook\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"MyReads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-content\",\n        children: [/*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Currently Reading\",\n          books: currentlyReading,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Want to Read\",\n          books: wantToRead,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Read\",\n          books: read,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-search\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: () => setShowSearchPage(true),\n          children: \"Add a book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"roAuzc2q0T0OTY7uYh6OhaIUJ/Q=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","BooksAPI","Shelf","SearchBar","SearchResults","jsxDEV","_jsxDEV","App","_s","books","setBooks","query","setQuery","searchResults","setSearchResults","showSearchPage","setShowSearchPage","getAll","then","handleMoveBook","book","newShelf","update","prevBooks","exists","find","b","id","map","shelf","currentlyReading","filter","wantToRead","read","handleQueryChange","q","trim","search","results","Array","isArray","updatedResults","result","existing","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onQueryChange","onMove","title","_c","$RefreshReg$"],"sources":["C:/Users/shulk/Desktop/Big_Projects/booksProject/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import \"./App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport Shelf from \"./Shelf\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport SearchResults from \"./SearchResults\";\r\n\r\nfunction App() {\r\n  const [books, setBooks] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [showSearchPage, setShowSearchPage] = useState(false)\r\n\r\n\r\n  useEffect(() => {\r\n    BooksAPI.getAll().then((books) => {\r\n      setBooks(books);\r\n    });\r\n  }, []);\r\n\r\n  const handleMoveBook = (book, newShelf) => {\r\n    BooksAPI.update(book, newShelf);\r\n    setBooks((prevBooks) =>{\r\n      const exists = prevBooks.find(b => b.id === book.id);\r\n      if (exists) {\r\n        return prevBooks.map(b =>\r\n          b.id === book.id ? { ...b, shelf: newShelf} : b\r\n        )\r\n      } else {\r\n        return [ ...prevBooks, {...book, shelf: newShelf }]\r\n      }\r\n    });\r\n  };\r\n\r\n  const currentlyReading = books.filter(\r\n    (book) => book.shelf === \"currentlyReading\"\r\n  );\r\n  const wantToRead = books.filter(\r\n    (book) => book.shelf === \"wantToRead\"\r\n  );\r\n  const read = books.filter(\r\n    (book) => book.shelf === \"read\"\r\n  );\r\n\r\n    const handleQueryChange = (q) => {\r\n    setQuery(q)\r\n\r\n    if (q.trim() === \"\") {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    BooksAPI.search(q, 20)\r\n    .then((results) => {\r\n      if (!Array.isArray(results)) {\r\n        setSearchResults([])\r\n        return\r\n      } const updatedResults = results.map((result) => {\r\n        const existing = books.find((b) => b.id === result.id)\r\n        return existing\r\n        ? { ...result, shelf: existing.shelf}\r\n        : { ...result, shelf: \"none\"};\r\n      })\r\n      setSearchResults(updatedResults)\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {showSearchPage ? (\r\n        <div className=\"search-books\">\r\n          <div className=\"search-books-bar\">\r\n            <a className=\"close-search\" onClick={() => setShowSearchPage(false)}>\r\n              Close\r\n            </a>\r\n            <SearchBar query={query} onQueryChange={handleQueryChange} />\r\n          </div> \r\n          <SearchResults books={searchResults} onMove={handleMoveBook} />\r\n        </div>\r\n      ): (\r\n        <div className=\"list-books\">\r\n          <div className=\"list-books-title\">\r\n            <h1>MyReads</h1>\r\n          </div>\r\n          <div className=\"list-books-content\">\r\n            <Shelf title=\"Currently Reading\" \r\n              books={currentlyReading}\r\n              onMove={handleMoveBook} />\r\n              <Shelf title=\"Want to Read\" \r\n              books={wantToRead}\r\n              onMove={handleMoveBook} />\r\n              <Shelf title=\"Read\" \r\n              books={read}\r\n              onMove={handleMoveBook} />\r\n          </div>\r\n          <div className=\"open-search\">\r\n            <a onClick={() => setShowSearchPage(true)}>Add a book</a>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}