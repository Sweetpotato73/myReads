{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shulk\\\\Desktop\\\\Big_Projects\\\\booksProject\\\\nd0191-c1-myreads\\\\starter\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport Shelf from \"./Shelf\";\nimport SearchBar from \"./SearchBar\";\nimport SearchResults from \"./SearchResults\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [showSearchPage, setShowSearchPage] = useState(false);\n  useEffect(() => {\n    BooksAPI.getAll().then(books => {\n      setBooks(books);\n    });\n  }, []);\n  const handleMoveBook = (book, newShelf) => {\n    BooksAPI.update(book, newShelf);\n    setBooks(prevBooks => {\n      const exists = prevBooks.find(b => b.id === book.id);\n      if (exists) {\n        return prevBooks.map(b => b.id === book.id ? {\n          ...b,\n          shelf: newShelf\n        } : b);\n      } else {\n        return [...prevBooks, {\n          ...book,\n          shelf: newShelf\n        }];\n      }\n    });\n  };\n  const currentlyReading = books.filter(book => book.shelf === \"currentlyReading\");\n  const wantToRead = books.filter(book => book.shelf === \"wantToRead\");\n  const read = books.filter(book => book.shelf === \"read\");\n  const handleQueryChange = q => {\n    setQuery(q);\n    if (q.trim() === \"\") {\n      setSearchResults([]);\n      return;\n    }\n    BooksAPI.search(q, 20).then(results => {\n      if (!results || results.error) {\n        setSearchResults([]);\n        const updateResults = results.map(result => {\n          const existing = books.find(b => b.id === result.id);\n          return existing ? {\n            ...result,\n            shelf: existing.shelf\n          } : {\n            ...result,\n            shelf: \"none\"\n          };\n        });\n        setSearchResults(updateResults);\n      } else {\n        setSearchResults(results);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: showSearchPage ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"close-search\",\n          onClick: () => setShowSearchPage(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n          query: query,\n          onQueryChange: handleQueryChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n        books: searchResults,\n        onMove: handleMoveBook\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"MyReads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-content\",\n        children: [/*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Currently Reading\",\n          books: currentlyReading,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Want to Read\",\n          books: wantToRead,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Read\",\n          books: read,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-search\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: () => setShowSearchPage(true),\n          children: \"Add a book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"roAuzc2q0T0OTY7uYh6OhaIUJ/Q=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","BooksAPI","Shelf","SearchBar","SearchResults","jsxDEV","_jsxDEV","App","_s","books","setBooks","query","setQuery","searchResults","setSearchResults","showSearchPage","setShowSearchPage","getAll","then","handleMoveBook","book","newShelf","update","prevBooks","exists","find","b","id","map","shelf","currentlyReading","filter","wantToRead","read","handleQueryChange","q","trim","search","results","error","updateResults","result","existing","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onQueryChange","onMove","title","_c","$RefreshReg$"],"sources":["C:/Users/shulk/Desktop/Big_Projects/booksProject/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import \"./App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport Shelf from \"./Shelf\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport SearchResults from \"./SearchResults\";\r\n\r\nfunction App() {\r\n  const [books, setBooks] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [showSearchPage, setShowSearchPage] = useState(false)\r\n\r\n\r\n  useEffect(() => {\r\n    BooksAPI.getAll().then((books) => {\r\n      setBooks(books);\r\n    });\r\n  }, []);\r\n\r\n  const handleMoveBook = (book, newShelf) => {\r\n    BooksAPI.update(book, newShelf);\r\n    setBooks((prevBooks) =>{\r\n      const exists = prevBooks.find(b => b.id === book.id);\r\n      if (exists) {\r\n        return prevBooks.map(b =>\r\n          b.id === book.id ? { ...b, shelf: newShelf} : b\r\n        )\r\n      } else {\r\n        return [ ...prevBooks, {...book, shelf: newShelf }]\r\n      }\r\n    });\r\n  };\r\n\r\n  const currentlyReading = books.filter(\r\n    (book) => book.shelf === \"currentlyReading\"\r\n  );\r\n  const wantToRead = books.filter(\r\n    (book) => book.shelf === \"wantToRead\"\r\n  );\r\n  const read = books.filter(\r\n    (book) => book.shelf === \"read\"\r\n  );\r\n\r\n    const handleQueryChange = (q) => {\r\n    setQuery(q)\r\n\r\n    if (q.trim() === \"\") {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    BooksAPI.search(q, 20)\r\n    .then((results) => {\r\n      if (!results || results.error) {\r\n        setSearchResults([]);\r\n        const updateResults= results.map((result) => {\r\n          const existing = books.find((b) => b.id === result.id);\r\n          return existing\r\n          ? { ...result, shelf: existing.shelf} \r\n          : { ...result, shelf: \"none\"}\r\n        })\r\n        setSearchResults(updateResults);\r\n      } else {\r\n        setSearchResults(results)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {showSearchPage ? (\r\n        <div className=\"search-books\">\r\n          <div className=\"search-books-bar\">\r\n            <a className=\"close-search\" onClick={() => setShowSearchPage(false)}>\r\n              Close\r\n            </a>\r\n            <SearchBar query={query} onQueryChange={handleQueryChange} />\r\n          </div> \r\n          <SearchResults books={searchResults} onMove={handleMoveBook} />\r\n        </div>\r\n      ): (\r\n        <div className=\"list-books\">\r\n          <div className=\"list-books-title\">\r\n            <h1>MyReads</h1>\r\n          </div>\r\n          <div className=\"list-books-content\">\r\n            <Shelf title=\"Currently Reading\" \r\n              books={currentlyReading}\r\n              onMove={handleMoveBook} />\r\n              <Shelf title=\"Want to Read\" \r\n              books={wantToRead}\r\n              onMove={handleMoveBook} />\r\n              <Shelf title=\"Read\" \r\n              books={read}\r\n              onMove={handleMoveBook} />\r\n          </div>\r\n          <div className=\"open-search\">\r\n            <a onClick={() => setShowSearchPage(true)}>Add a book</a>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}