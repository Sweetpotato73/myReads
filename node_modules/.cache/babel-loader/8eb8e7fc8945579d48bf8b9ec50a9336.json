{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shulk\\\\Desktop\\\\Big_Projects\\\\booksProject\\\\nd0191-c1-myreads\\\\starter\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport Shelf from \"./Shelf\";\nimport SearchBar from \"./SearchBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [showSearchPage, setShowSearchPage] = useState(false);\n  useEffect(() => {\n    BooksAPI.getAll().then(books => {\n      setBooks(books);\n    });\n  }, []);\n  const handleMoveBook = (book, newShelf) => {\n    BooksAPI.update(book, newShelf);\n    setBooks(prevBooks => prevBooks.map(b => b.id === book.id ? {\n      ...b,\n      shelf: newShelf\n    } : b));\n  };\n  const currentlyReading = books.filter(book => book.shelf === \"currentlyReading\");\n  const wantToRead = books.filter(book => book.shelf === \"wantToRead\");\n  const read = books.filter(book => book.shelf === \"read\");\n  const handleQueryChange = q => {\n    setQuery(q);\n    if (q.trim() === \"\") {\n      setSearchResults([]);\n      return;\n    }\n    BooksAPI.search(q, 20).then(results => {\n      if (results.error) {\n        const updateResults = results.map(result => {\n          const existing = books.find(b => b.id === result.id);\n          return existing ? {\n            ...result,\n            shelf: existing.shelf\n          } : {\n            ...result,\n            shelf: \"none\"\n          };\n        });\n        setSearchResults(updateResults);\n      } else {\n        setSearchResults(results);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: showSearchPage ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"close-search\",\n          onClick: () => setShowSearchPage(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n          query: query,\n          onQueryChange: handleQueryChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n        books: searchResults,\n        onMove: handleMoveBook\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"MyReads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-content\",\n        children: [/*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Currently Reading\",\n          books: currentlyReading,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Want to Read\",\n          books: wantToRead,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Shelf, {\n          title: \"Read\",\n          books: read,\n          onMove: handleMoveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-search\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: () => setShowSearchPage(true),\n          children: \"Add a book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"roAuzc2q0T0OTY7uYh6OhaIUJ/Q=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","BooksAPI","Shelf","SearchBar","jsxDEV","_jsxDEV","App","_s","books","setBooks","query","setQuery","searchResults","setSearchResults","showSearchPage","setShowSearchPage","getAll","then","handleMoveBook","book","newShelf","update","prevBooks","map","b","id","shelf","currentlyReading","filter","wantToRead","read","handleQueryChange","q","trim","search","results","error","updateResults","result","existing","find","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onQueryChange","SearchResults","onMove","title","_c","$RefreshReg$"],"sources":["C:/Users/shulk/Desktop/Big_Projects/booksProject/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import \"./App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport Shelf from \"./Shelf\";\r\nimport SearchBar from \"./SearchBar\";\r\n\r\nfunction App() {\r\n  const [books, setBooks] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [showSearchPage, setShowSearchPage] = useState(false)\r\n\r\n\r\n  useEffect(() => {\r\n    BooksAPI.getAll().then((books) => {\r\n      setBooks(books);\r\n    });\r\n  }, []);\r\n\r\n  const handleMoveBook = (book, newShelf) => {\r\n    BooksAPI.update(book, newShelf);\r\n    setBooks((prevBooks) =>\r\n      prevBooks.map((b) =>\r\n        b.id === book.id \r\n        ? { ...b, shelf: newShelf } \r\n        : b\r\n      )\r\n    );\r\n  };\r\n\r\n  const currentlyReading = books.filter(\r\n    (book) => book.shelf === \"currentlyReading\"\r\n  );\r\n  const wantToRead = books.filter(\r\n    (book) => book.shelf === \"wantToRead\"\r\n  );\r\n  const read = books.filter(\r\n    (book) => book.shelf === \"read\"\r\n  );\r\n\r\n    const handleQueryChange = (q) => {\r\n    setQuery(q)\r\n\r\n    if (q.trim() === \"\") {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    BooksAPI.search(q, 20)\r\n    .then((results) => {\r\n      if (results.error) {\r\n        const updateResults= results.map((result) => {\r\n          const existing = books.find((b) => b.id === result.id);\r\n          return existing\r\n          ? { ...result, shelf: existing.shelf} \r\n          : { ...result, shelf: \"none\"}\r\n        })\r\n        setSearchResults(updateResults);\r\n      } else {\r\n        setSearchResults(results)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {showSearchPage ? (\r\n        <div className=\"search-books\">\r\n          <div className=\"search-books-bar\">\r\n            <a className=\"close-search\" onClick={() => setShowSearchPage(false)}>\r\n              Close\r\n            </a>\r\n            <SearchBar query={query} onQueryChange={handleQueryChange} />\r\n          </div> \r\n          <SearchResults books={searchResults} onMove={handleMoveBook} />\r\n        </div>\r\n      ): (\r\n        <div className=\"list-books\">\r\n          <div className=\"list-books-title\">\r\n            <h1>MyReads</h1>\r\n          </div>\r\n          <div className=\"list-books-content\">\r\n            <Shelf title=\"Currently Reading\" \r\n              books={currentlyReading}\r\n              onMove={handleMoveBook} />\r\n              <Shelf title=\"Want to Read\" \r\n              books={wantToRead}\r\n              onMove={handleMoveBook} />\r\n              <Shelf title=\"Read\" \r\n              books={read}\r\n              onMove={handleMoveBook} />\r\n          </div>\r\n          <div className=\"open-search\">\r\n            <a onClick={() => setShowSearchPage(true)}>Add a book</a>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}